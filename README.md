# Christmas Card Project 🎄

이 프로젝트는 네 가지 애플리케이션으로 구성되어 있습니다:

1. **Interactive Christmas Card** - 인터랙티브 크리스마스 카드 웹페이지
2. **AR Christmas Card** - 증강현실 크리스마스 카드 ⭐ NEW!
3. **AI Drawing Battle Game** - 실시간 AI 그림 배틀 게임
4. **Human-like Typing Animator** - 사람처럼 타이핑하는 애니메이션 프로그램

---

## 1. Interactive Christmas Card 🎅

아름다운 크리스마스 카드를 클릭하여 열고 메시지를 확인할 수 있는 웹 애플리케이션입니다.

### 주요 기능
- ✨ 눈 내리는 애니메이션
- 🎄 움직이는 크리스마스 트리
- 💌 카드를 클릭하면 뒤집어지는 3D 효과
- 🎵 간단한 크리스마스 음악 재생
- 🎮 AI Drawing Battle Game 링크
- 🎅 AR Christmas Card 링크
- 📱 반응형 디자인

---

## 2. AR Christmas Card 🎅✨ ⭐ NEW!

**증강현실로 특별한 사람에게 마법 같은 크리스마스 카드를 보내세요!**

옛날 팝업 크리스마스 카드의 감동을 현대적인 AR 기술로 재해석한 프로젝트입니다. 편지를 받은 사람이 링크를 열면, 휴대폰 카메라를 통해 주변 공간에서 산타와 친구들이 튀어나와 춤을 추고, 크리스마스 트리를 세우며, 선물을 전달하는 마법 같은 경험을 제공합니다.

### 🎪 주요 기능

#### 편지 작성 및 전송
- 💌 **개인화된 메시지**: 보내는 사람, 받는 사람, 메시지 작성
- 📧 **이메일 전송**: 받는 사람에게 자동으로 링크 발송
- 👁️ **AR 미리보기**: 보내기 전 자신의 카드 미리보기
- 🎨 **아름다운 UI**: 크리스마스 분위기의 눈 내리는 배경

#### AR 경험
- 📱 **카메라 접근**: 휴대폰 후면 카메라로 주변 환경 인식
- 🎅 **3D 캐릭터**: 산타, 엘프 2명, 루돌프가 귀엽게 등장
- 💃 **춤추기 애니메이션**: 캐릭터들이 신나게 춤을 춤
- 🎄 **트리 세우기**: 크리스마스 트리가 자라나는 마법
- 🎁 **선물 전달**: 반짝이는 선물 상자 등장
- 📜 **편지 열기**: 선물을 탭하면 편지 내용 표시
- 🎅 **TTS 낭독**: 산타 할아버지 목소리로 편지 읽기
- ✨ **물리 기반 애니메이션**: 부드러운 이징과 자연스러운 움직임

#### 공유 및 저장
- 💌 **답장 보내기**: 받은 사람이 바로 답장 가능
- 🎥 **영상 녹화**: AR 경험을 영상으로 저장
- ✉️ **새 카드 만들기**: 자신만의 카드 작성

### 🛠️ 기술 스택

#### 3D 렌더링
- **Three.js**: 3D 캐릭터 및 오브젝트 렌더링
- **WebGL**: 하드웨어 가속 그래픽
- **Custom Geometry**: 산타, 엘프, 루돌프 3D 모델 생성
- **실시간 조명**: 크리스마스 분위기의 동적 조명

#### AR 기능
- **WebRTC**: 실시간 카메라 스트림
- **MediaDevices API**: 카메라 접근
- **Canvas Overlay**: 비디오 위에 3D 렌더링

#### 애니메이션
- **사용자 정의 이징**: bounceOut, elastic, cubic 등
- **시퀀스 관리**: 단계별 애니메이션 진행
- **부드러운 전환**: 60fps 애니메이션 루프

#### 음성 합성
- **Web Speech API**: 브라우저 내장 TTS
- **산타 목소리**: 낮은 음높이, 느린 속도로 할아버지 느낌
- **실시간 동기화**: 타이핑 애니메이션과 TTS 동기화

#### 녹화 기능
- **MediaRecorder API**: Canvas 스트림 녹화
- **WebM 포맷**: 효율적인 비디오 압축
- **다운로드**: 로컬에 영상 저장

### 🎬 경험 흐름

1. **편지 작성** → 받는 사람 정보와 메시지 입력
2. **링크 전송** → 이메일로 AR 카드 링크 발송
3. **링크 열기** → 받는 사람이 링크 클릭
4. **카메라 권한** → 카메라 접근 허용
5. **환경 인식** → 휴대폰을 주변에 비추기
6. **캐릭터 등장** → 산타와 친구들이 튀어나옴 (2초)
7. **춤 파티** → 신나게 춤추기 (3초)
8. **트리 세우기** → 크리스마스 트리 성장 (2초)
9. **선물 전달** → 반짝이는 선물 상자 등장 (2초)
10. **선물 열기** → 탭하여 선물 상자 열기
11. **편지 읽기** → 타이핑 효과 + TTS 낭독
12. **행동 선택** → 답장/저장/새 카드 만들기

### 📱 실행 방법

```bash
# christmas-card 디렉토리로 이동
cd christmas-card

# 브라우저에서 접속
# http://localhost:3000/christmas-card
```

### 🎨 3D 캐릭터 디자인

#### 산타 🎅
- 빨간 옷과 모자
- 흰 수염
- 빨간 코
- 움직이는 팔

#### 엘프 🧝 (2명)
- 핑크와 초록색 옷
- 뾰족한 귀와 모자
- 귀여운 표정

#### 루돌프 🦌
- 갈색 몸
- 빨간 코 (발광 효과)
- 뿔 4개
- 네 다리로 걷기

#### 크리스마스 트리 🎄
- 3단 구조
- 금색 별 꼭대기
- 알록달록 장식
- 회전 애니메이션

### 🎮 사용자 인터랙션

- **탭/클릭**: 선물 상자 열기
- **카메라 이동**: 주변 공간 탐색
- **버튼**: 답장, 녹화, 새 카드 만들기

### 🌟 특별한 점

1. **감성적**: 옛날 팝업 카드의 감동을 현대 기술로 재현
2. **개인화**: 각 사람에게 맞춤 메시지
3. **몰입감**: AR로 실제 공간에서 마법 같은 경험
4. **공유 가능**: 영상 저장 및 재공유
5. **접근성**: 앱 설치 없이 브라우저만으로 작동

---

## 3. AI Drawing Battle Game 🎮⭐

**프로덕션 레벨의 실시간 AI 그림 배틀 게임!**

두 플레이어가 그림을 그려 병사를 생성하고, AI가 유사도를 측정하여 병사의 능력치를 결정합니다. 전략적으로 병사를 배치하여 상대의 본체를 공격하는 실시간 멀티플레이어 게임입니다.

### 🎯 게임 특징

#### 핵심 메커니즘
- **AI 기반 유사도 측정**: TensorFlow.js와 MobileNet을 사용한 실시간 이미지 분류
- **전략적 선택**: 빠르게 많은 약한 병사 vs 천천히 강한 병사
- **실시간 멀티플레이어**: WebSocket(Socket.io) 기반 동기화
- **크리스마스 테마**: 눈사람, 산타, 루돌프 등 크리스마스 유닛

#### 게임 플레이
1. 🔍 매칭 대기 - 자동으로 상대를 찾습니다
2. 🎨 그림 그리기 - 제시된 크리스마스 캐릭터를 그립니다
3. 🤖 AI 유사도 측정 - 실시간으로 그림의 유사도를 측정합니다
4. ⚔️ 병사 생성 - 유사도에 따라 공격력, 방어력, 체력이 결정됩니다
5. 🏰 전투 - 병사들이 자동으로 적진으로 이동하여 싸웁니다
6. 🏆 승리 - 상대 본체 체력을 0으로 만들면 승리!

#### 유닛 타입
- 🧝 **눈싸움 엘프** (공격형): 빠른 공격력
- ⛄ **눈사람 방패병** (방어형): 높은 체력과 방어력
- 🦌 **마법 루돌프** (마법형): 강력한 마법 공격
- 🎅 **산타 전사** (공격형): 균형잡힌 능력치
- 🎄 **크리스마스 트리 가디언** (방어형): 최강 방어력
- 👼 **천사 힐러** (지원형): 아군 회복 능력

### 🛠️ 기술 스택

#### 프론트엔드
- **Canvas API**: 그림 그리기 시스템
- **TensorFlow.js**: 실시간 이미지 분류
- **MobileNet**: 경량화된 이미지 인식 모델
- **Canvas 2D**: 게임 렌더링 엔진
- **Socket.io Client**: 실시간 통신

#### 백엔드
- **Node.js**: 서버 런타임
- **Express**: 웹 서버 프레임워크
- **Socket.io**: WebSocket 실시간 통신
- **게임 매니저**: 게임 상태 관리 및 로직

#### 성능 최적화
- 클라이언트 측 AI 유사도 측정 (서버 부하 최소화)
- 30 FPS 게임 루프
- 디바운싱을 통한 실시간 유사도 계산
- 효율적인 Canvas 렌더링

### 🚀 실행 방법

```bash
# 1. 의존성 설치
npm install

# 2. 서버 시작
npm start

# 3. 브라우저에서 접속
# http://localhost:3000/game
```

개발 모드 (자동 재시작):
```bash
npm run dev
```

### 🎮 게임 조작법

#### 드로잉
- **마우스/터치**: 그림 그리기
- **색상 선택기**: 펜 색상 변경
- **브러시 크기**: 펜 굵기 조절
- **지우기 버튼**: 캔버스 초기화

#### 전략 팁
- 최소 유사도를 넘기면 병사 생성 가능
- 유사도가 높을수록 강한 병사 (최대 1.5배)
- 빠르게 약한 병사를 많이 만들 vs 천천히 강한 병사 만들기
- 공격/방어/마법 유닛을 조합하여 전략 구성

### 📊 게임 로직

#### 유사도 → 능력치 변환
```
스탯 배율 = 0.3 + (유사도 × 1.2)
- 최소: 30% (유사도 0%)
- 최대: 150% (유사도 100%)
```

#### 전투 시스템
1. 유닛이 적진으로 이동 (2px/tick)
2. 적 유닛과 조우 시 전투
3. 데미지 = MAX(1, 공격력 - 방어력)
4. 적 유닛이 없으면 본체 공격
5. 본체 체력 0 → 게임 종료

---

## 3. Human-like Typing Animator ⌨️

실제 사람이 타이핑하는 것처럼 랜덤한 속도와 지연 시간으로 텍스트를 출력하는 프로그램입니다.

### 주요 기능
- 🎯 실제 사람처럼 랜덤한 타이핑 속도
- ⏱️ 문장부호에서 자연스러운 지연
- ⌨️ Enter 키로 빠른 시작
- ⏸️ 일시정지 및 재개 기능
- 🎨 실시간 커서 애니메이션
- 📊 진행률 표시
- 🎛️ 5단계 속도 조절

### 실행 방법
```bash
# typing-animator 디렉토리로 이동
cd typing-animator

# index.html 파일을 브라우저로 열기
open index.html
```

---

## 프로젝트 구조

```
ChristamsCard/
├── index.html              # 크리스마스 카드 메인 페이지
├── style.css              # 크리스마스 카드 스타일
├── script.js              # 크리스마스 카드 기능
├── package.json           # NPM 의존성
├── server/                # 게임 서버
│   ├── server.js         # Express + Socket.io 서버
│   └── gameManager.js    # 게임 로직 및 상태 관리
├── christmas-card/        # AR 크리스마스 카드 ⭐ NEW!
│   ├── index.html        # 편지 작성 페이지
│   ├── view.html         # AR 뷰어 페이지
│   ├── style.css         # 스타일
│   ├── app.js            # 편지 작성 로직
│   ├── ar-scene.js       # AR 씬 관리
│   ├── characters.js     # 3D 캐릭터 생성
│   ├── animations.js     # 애니메이션 시퀀스
│   ├── letter.js         # 편지 렌더링
│   ├── tts.js            # 음성 합성
│   └── recorder.js       # 영상 녹화
├── game/                  # AI Drawing Battle Game
│   ├── index.html        # 게임 메인 페이지
│   ├── style.css         # 게임 스타일
│   ├── game.js           # 메인 게임 로직
│   ├── drawing.js        # 캔버스 드로잉 시스템
│   ├── similarity.js     # AI 유사도 측정
│   └── renderer.js       # 게임 렌더링 엔진
├── typing-animator/       # 타이핑 애니메이터 프로그램
│   ├── index.html
│   ├── style.css
│   └── script.js
└── README.md             # 프로젝트 설명서
```

---

## 기술 스택

### 프론트엔드
- HTML5
- CSS3 (Animations, Gradients, Flexbox, Grid)
- Vanilla JavaScript (ES6+)
- Canvas API
- Three.js (3D Graphics) ⭐ NEW!
- WebGL
- TensorFlow.js
- Socket.io Client
- Web Audio API
- Web Speech API (TTS) ⭐ NEW!
- MediaDevices API (Camera) ⭐ NEW!
- MediaRecorder API (Video Recording) ⭐ NEW!

### 백엔드
- Node.js 18+
- Express 4.x
- Socket.io 4.x
- WebSocket

### AI/ML
- TensorFlow.js
- MobileNet (이미지 분류)

---

## 시스템 요구사항

### 클라이언트
- 모던 브라우저 (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)
- 최소 2GB RAM
- GPU 가속 지원 권장 (TensorFlow.js)

### 서버
- Node.js 18 이상
- 1GB RAM 이상
- 안정적인 네트워크 연결

---

## 환경 변수

```bash
PORT=3000  # 서버 포트 (기본값: 3000)
```

---

## 개발 가이드

### 로컬 개발
```bash
# 의존성 설치
npm install

# 개발 서버 시작 (자동 재시작)
npm run dev

# 프로덕션 서버 시작
npm start
```

### 디버깅
브라우저 콘솔에서 다음 정보 확인:
- 🎮 게임 이벤트 로그
- 🤖 AI 유사도 측정 결과
- 📡 WebSocket 연결 상태
- ⚔️ 전투 업데이트

---

## 성능 고려사항

### 실시간성 확보
- **유사도 측정**: 클라이언트 측에서 TensorFlow.js로 처리 (< 500ms)
- **게임 루프**: 30 FPS (33ms/frame)
- **네트워크**: WebSocket을 통한 저지연 통신
- **렌더링**: RequestAnimationFrame을 사용한 부드러운 애니메이션

### 확장성
- 게임 인스턴스별 독립적인 상태 관리
- 메모리 효율적인 유닛 관리
- 자동 매칭 시스템

---

## 알려진 제약사항

1. **NeRF 3D 생성**: 실시간으로 불가능하여 2D 스프라이트 사용
2. **동시 접속자**: 서버 사양에 따라 제한됨
3. **AI 정확도**: MobileNet 기반으로 크리스마스 테마에 최적화됨

---

## 향후 계획

### AR 크리스마스 카드
- [ ] 실제 이메일 전송 기능 통합
- [ ] 더 많은 캐릭터 추가 (눈사람, 요정 등)
- [ ] 사용자 정의 배경음악
- [ ] 다양한 테마 (생일, 발렌타인 등)
- [ ] 소셜 미디어 공유 기능
- [ ] AR 마커 기반 정확한 배치

### AI Drawing Battle Game
- [ ] 싱글 플레이어 모드 (AI 봇)
- [ ] 랭킹 시스템
- [ ] 더 많은 유닛 타입
- [ ] 스킬 시스템
- [ ] 리플레이 기능
- [ ] 모바일 최적화

---

## 라이선스

MIT License

---

## 제작자

Made with ❤️ for Christmas 🎄

Merry Christmas! 🎅🎁⛄

---

## 문의 및 버그 리포트

프로젝트 이슈 트래커를 통해 버그 리포트 및 기능 제안을 해주세요.

**즐거운 크리스마스 보내세요! 🎄✨**
